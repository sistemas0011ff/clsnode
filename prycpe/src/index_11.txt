
import { json } from "body-parser";
import { Console } from "console";
import { AppDataSource } from "./data-source";
import { Car } from "./entity/Car.entity";
import { Medic } from "./entity/Medic.entity";
import { User } from "./entity/User.entity";

AppDataSource.initialize()
.then( async (conn)=> {
   
 
    const id = 5;

    const medicRepository = await conn.getRepository(Medic);
    // const medic  = await medicRepository.find({where : {id : id}})

    const medic = await medicRepository
    .createQueryBuilder("doctor")
    .where("doctor.id = :id", { id })
    .getOne();

    console.log( JSON.stringify(medic ,null,"\t"));
    
    

    

})
.catch( console.log );